jQuery(function(t){var e=[],i=t(".tp-recipe-upload-button"),a=t(".tp-recipe-upload-button-remove");i.on("click",function(i){i.preventDefault();var a=t(this),n=a.attr("id");return e[n]?void e[n].open():(e[n]=wp.media.frames.file_frame=wp.media({title:a.data("uploader_title"),button:{text:a.data("uploader_button_text")},multiple:!1}),e[n].on("select",function(){var i=e[n].state().get("selection").first().toJSON();t("#"+n+"-value").val(i.id);var r='<img src="'+i.url+'" style="max-width:100%;" />';a.next("input").next(".image-preview").html(r)}),void e[n].open())}),a.on("click",function(e){e.preventDefault();var i=t(this),a=i.prev("input").attr("id");i.next(".image-preview").html(""),t("#"+a+"-value").val(0)})});